  boot_devices             = var.boot_mode == "Uefi" ? [
    {
      enabled=true,
      class_id="boot.VirtualMedia",
      name="kvm-mapped-dvd",
      object_type="boot.VirtualMedia",
      additional_properties = jsonencode({ Subtype = "kvm-mapped-dvd" })
    },
    {
      enabled=true,
      class_id="boot.Iscsi",
      name="iscsi-a",
      interface_name = "iscsi-a",
      object_type="boot.Iscsi",
      additional_properties =jsonencode(
        {
          port=0,
          interfacename = "iscsi-a",
          bootloader={
            description="rhel",
            name="bootx64.efi",
            path="\\EFI\\BOOT\\BOOTx64.EFI"
          }
        }
      )
    },
    {
      enabled=true,
      class_id="boot.Iscsi",
      name="iscsi-b",
      interface_name = "iscsi-b",
      object_type="boot.Iscsi",
      additional_properties =jsonencode(
        {
          port=0,
          interfacename = "iscsi-b",
          bootloader={
            description="rhel",
            name="bootx64.efi",
            path="\\EFI\\BOOT\\BOOTx64.EFI"
          }
        }
      )
    }
  ] : [
    {
      enabled=true,
      class_id="boot.VirtualMedia",
      name="kvm-mapped-dvd",
      object_type="boot.VirtualMedia",
      additional_properties = jsonencode({Subtype = "kvm-mapped-dvd"})
    },
    {
      enabled=true,
      class_id="boot.Iscsi",
      name="iscsi-a",
      interface_name = "iscsi-a",
      object_type="boot.Iscsi",
      additional_properties =jsonencode({port=0, interfacename = "iscsi-a"})},
    {
      enabled=true,
      class_id="boot.Iscsi",
      name="iscsi-b",
      interface_name = "iscsi-b",
      object_type="boot.Iscsi",
      additional_properties =jsonencode({port=0, interfacename = "iscsi-b"})
    }
  ]
